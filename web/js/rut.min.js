function formato_rut(r){if(""===r||0===r||null===r||void 0===r)return"";r=r.replace(/-/gi,""),r=r.replace(/\./gi,""),r=r.replace(/\(/gi,""),r=r.replace(/\)/gi,""),r=r.replace(/\//gi,""),r=r.replace(/\\/gi,""),r=r.replace("k","K");for(var e=r,t=0,n="",l="",a=e.length-1;a>=0;a--)n+=e.charAt(a),a==e.length-1?n+="-":3==t&&(n+=".",t=0),t++;for(var i=n.length-1;i>=0;i--)"."!=n.charAt(n.length-1)?l+=n.charAt(i):i!=n.length-1&&(l+=n.charAt(i));return r=l.toUpperCase()}function valida_rut(r){if(!/^[0-9]+-[0-9kK]{1}$/.test(r))return!1;var e=r.split("-");return"K"==e[1]&&(e[1]="k"),dig_v(e[0])==e[1]}function dig_v(r){for(var e=0,t=1;r;r=Math.floor(r/10))t=(t+r%10*(9-e++%6))%11;return t?t-1:"k"}function nif(r){numero=r.substr(0,r.length-1),lett=r.substr(r.length-1,1),numero%=23,letra="TRWAGMYFPDXBNJZSQVHLCKET",letra=letra.substring(numero,numero+1),letra!=lett&&alert("Dni erroneo")}